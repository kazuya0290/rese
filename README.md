## アプリケーション名
<strong>Rese飲食店予約サービスアプリ</strong><br>

Rese飲食店予約サービスアプリは、ユーザーが飲食店をエリアやジャンルの選択、キーワード検索を通じて簡単に探し、オンラインで予約できるサービスです。<br> 検索機能には、プルダウンからエリアやジャンルを選択して絞り込むフィルター機能、キーワード検索機能、店舗のランダム表示機能、口コミ評価の高い順や低い順で並べ替えるソート機能があり、ユーザーが希望する飲食店をスムーズに見つけることが可能です。<br>さらに、ユーザーは気に入った店舗をお気に入りに追加でき、予約の管理、QRコード発行、オンライン決済(Stripe決済)の利用、リマインダーメールの受信が可能です。また、口コミの投稿・編集・削除機能に加えて、口コミには画像を添付できるようになり、より充実した店舗情報の共有が可能となりました。<br> 管理者は、店舗代表者の追加、ユーザーへの一斉メール送信、ユーザーが投稿した口コミの確認および削除が行えるほか、CSVファイルをインポートすることで新たな店舗情報を登録することも可能です。<br>店舗代表者は、自らの店舗情報の更新や新店舗の追加が行え、円滑な店舗運営を支援します。<br>このように、Rese飲食店予約サービスアプリは、ユーザーの利便性向上だけでなく、管理者や店舗代表者にとっても効率的な店舗管理を実現する設計となっています。<br>

<strong>ホーム画面(店舗一覧)</strong>
![ホーム画面](https://github.com/user-attachments/assets/195f0031-f75c-4d82-b3e7-0d97d828a67d)

<strong>メニュー画面1</strong>
![メニュー画面1](https://github.com/user-attachments/assets/3bdbcdef-d6d6-439e-89ac-015351422ca1)

<strong>会員登録画面</strong>
![会員登録画面](https://github.com/user-attachments/assets/0049ff30-005d-40db-b906-4e1bb07e484f)

<strong>メール認証画面</strong>
![メール認証画面](https://github.com/user-attachments/assets/fd74e672-7802-464c-b525-a8206762a52d)

<strong>利用者(ユーザー)ログイン画面</strong>
![ログイン画面](https://github.com/user-attachments/assets/9fccb6f6-d642-4cd1-a10c-589027be5bd0)

<strong>サンクス画面(会員登録)</strong>
![サンクス画面(会員登録)](https://github.com/user-attachments/assets/a4004a69-717b-4111-a899-9efb4f271a62)

<strong>ホーム画面(ログイン時)</strong>
![ホーム画面(ログイン時)](https://github.com/user-attachments/assets/1cbe10e9-4aff-47b9-818a-b5d1ce9bd67c)

<strong>メニュー画面2(利用者(ユーザー)ログイン時)</strong>
![メニュー画面2(ログイン時)](https://github.com/user-attachments/assets/4c94d24f-86fb-4e73-a649-7b65c0b0e1af)

<strong>店舗詳細画面</strong>
![店舗詳細画面](https://github.com/user-attachments/assets/91681070-5038-4428-bce8-0ae924389060)

<strong>Stripe決済画面</strong>
![Stripe決済画面](https://github.com/user-attachments/assets/bd51be15-f2ce-4659-a39a-74fccc5a3538)

<strong>予約サンクス画面</strong>
![予約サンクス画面](https://github.com/user-attachments/assets/d4567b7a-920c-4226-aa3f-4c90d8789d2e)

<strong>マイページ画面</strong>
![マイページ画面](https://github.com/user-attachments/assets/a3f8f527-5f07-4aeb-92a5-887bf094a975)

<strong>予約リマインダーメール</strong>
![予約リマインダーメール](https://github.com/user-attachments/assets/1b6d2286-64a4-4288-8896-568bf36a79d5)

<strong>予約リマインダーメールの内容</strong>
![予約リマインダーメールの内容](https://github.com/user-attachments/assets/b7503f4e-a6e9-4eb9-bf55-7236d8b76206)

<strong>口コミ投稿画面</strong>
![レビュー投稿画面](https://github.com/user-attachments/assets/9c4927c0-a415-4de5-b028-a1834ab1ebf6)

<strong>口コミ投稿サンクス画面</strong>
![レビューサンクス画面](https://github.com/user-attachments/assets/b9ded2da-fdf3-43dd-bbee-abd4bd03d1b8)

<strong>口コミ内容確認・編集・削除画面</strong>
![レビュー内容確認画面3](https://github.com/user-attachments/assets/78c7883e-a39c-46e8-96b5-4f8e12238039)

<strong>口コミ編集画面</strong>
![レビュー投稿画面2](https://github.com/user-attachments/assets/ab16a13f-975a-4c82-8fec-d208309c6a47)

<strong>管理者画面(店舗代表者の追加)</strong>
![管理者画面(店舗代表者の追加)](https://github.com/user-attachments/assets/636cd693-8134-4bae-b4e8-5f36ea0e26c9)

<strong>管理者画面(利用者(ユーザー)へのお知らせメール送信)</strong>
![管理者画面(利用者へのお知らせメール送信)](https://github.com/user-attachments/assets/36adbcbc-8619-4488-b34e-817bd9e8022c)

<strong>管理者画面(利用者(ユーザー)の全店舗の口コミ確認・削除とCSVファイルインポート機能)</strong>
![管理者画面(口コミの確認と削除、CSVファイルインポートによる店舗追加)](https://github.com/user-attachments/assets/b315c9c3-e7c1-4353-b1ac-326e7ba88014)

<strong>管理者画面(利用者(ユーザー)の全店舗の口コミ確認・削除)</strong>
![管理者画面(一般ユーザーの全店舗の口コミの確認と削除)](https://github.com/user-attachments/assets/a648b080-ec37-40db-81be-400ba4343914)

<strong>管理者画面(新店舗追加の為のCSVファイル記入例)</strong>
![管理者画面(CSVファイルインポート方法)](https://github.com/user-attachments/assets/ac17b633-4152-4193-b5e8-feb5acdae4be)
![vscode内でのcsvファイル記入例](https://github.com/user-attachments/assets/793b0073-ee2b-4423-88c2-3b9a1d86a2df)

<strong>店舗代表者ログイン画面</strong>
![店舗代表者ログイン画面](https://github.com/user-attachments/assets/87f871c9-303b-46f2-bae6-aeba1c575059)

<strong>店舗代表者ホーム画面</strong>
![店舗代表者ホーム画面](https://github.com/user-attachments/assets/437a9acc-00db-4675-9bbc-3bd61362ade4)

<strong>店舗代表者ホーム画面2</strong>
![店舗代表者ホーム画面2](https://github.com/user-attachments/assets/12ee82cc-89f4-4079-98ee-7a5354c8c436)

<strong>メニュー画面3(店舗代表者ログイン時)</strong>
![メニュー画面3(店舗代表者ログイン時)](https://github.com/user-attachments/assets/c40c5e7d-ec2d-4a49-b5ee-2744cba6cb07)

<strong>店舗情報の更新画面</strong>
![店舗情報の更新画面](https://github.com/user-attachments/assets/f5b9e087-6400-4eca-bad6-4eea129dbd6d)

<strong>店舗情報の作成画面</strong>
![店舗情報の作成画面](https://github.com/user-attachments/assets/3ee95324-2b44-461b-9af2-5cbbd0eb0c40)

<strong>利用者(ユーザー)予約一覧画面</strong>
![利用者(ユーザー)予約一覧画面](https://github.com/user-attachments/assets/e9ee7e02-d78d-44d2-b23b-e717c10de274)


<strong>-基本機能(上部に添付した画面の説明)-</strong>

・<strong>ホーム画面(店舗一覧)</strong>：この画面では、各店舗の一覧が表示されます。画面右上には、店舗を「ランダム」「評価の高い順」「評価の低い順」で並び替えるソート機能があります。(※ランダム、評価の高い順、低い順をクリックした後に、並び替え評価:高/低をクリックすると元の店舗配置に戻ります。)また、エリアやジャンルの選択、キーワード検索によるフィルター機能も備わっており、これらは非ログイン時でも利用可能です。各店舗の「詳しくみる」ボタンをクリックすると、店舗の詳細情報を閲覧出来ます。<br>

・<strong>メニュー画面1</strong>：画面左上のアイコン(ハンバーガーメニュー)をクリックするとメニュー画面が表示され、表示された×ボタンをクリックするとメニューを閉じることが出来ます。上から順にHomeをクリックするとホーム画面が表示され、Registrationをクリックすると会員登録画面、Loginをクリックするとログイン画面が表示されます。<br>

・<strong>会員登録画面</strong>：名前、メールアドレス、パスワード(確認用にも同じパスワードを入力する必要あり)を入力し、メール認証を行うことによって会員登録を行うことが可能です。<br>

・<strong>メール認証画面</strong> : この画面が出た後、mailhog(localhost:8025)にメールが届くので、Verify Email Address(メールアドレスを認証)をクリックして認証を行うことで会員登録が完了し、ログインすることが出来ます。メールが届かない場合、誤って削除してしまった場合は「再送するにはこちらをクリック」をクリックしてください。<br>

・<strong>利用者(ユーザー)ログイン画面</strong>：会員登録を行った後、この画面から登録したメールアドレスとパスワードを入力することで、ログインすることが出来ます。また、管理者・店舗代表者のログインもここから可能です。<br>

・<strong>サンクス画面(会員登録)</strong>：メール認証後、この画面が表示されます。「ログインする」ボタンをクリックすると、ログインした状態でホーム画面が開きます。<br>

・<strong>ホーム画面(ログイン時)</strong>：ログインすることで、お気に入り追加・削除機能、マイページの閲覧、詳細画面からの予約機能等全ての機能を利用することが可能となります。<br>

・<strong>メニュー画面2(利用者(ユーザー)ログイン時)</strong> : 非ログイン時と少し変わり、Homeはクリックすると非ログイン時と同じくホーム画面が表示され、Logoutボタンをクリックするとログアウト確認のアラートメッセージが表示され、OKをクリックするとログアウト状態となり、Mypageをクリックするとマイページ画面が表示されます。<br>

・<strong>店舗詳細画面</strong>：この画面では、店舗の画像やエリア・ジャンルのハッシュタグ、店舗の詳細な説明が表示されます。画面左上の「<」をクリックすると店舗一覧に戻ります。「画像を保存する」ボタンをクリックすると、ストレージに画像を保存することができ、非ログイン時でも利用可能です。右側には予約フォームがあり、非ログイン時は利用できませんが、ログイン後は日付、時間、人数を順に選択して予約を行うことが可能です。予約方法は「通常予約」と「Stripe決済」に対応しています。また、「口コミを投稿する」リンクは非ログイン時には表示されませんが、ログインすると表示され、口コミを投稿できるようになります。さらに、予約リマインダーメールのリンクからも、該当店舗の口コミを投稿することが可能です。<br>

・<strong>Stripe決済画面</strong> : Stripe決済を利用して予約する場合、メールアドレス、クレジットカード番号、有効期限(MM → 月  YY → 年)、3桁以上のCVC(セキュリティコード)を入力して「¥1,000を支払う」ボタンをクリックすることで予約を行うことが可能です。(※テストする場合、クレジットカード番号は「4242 4242 4242 4242」を必ず入力してください。 有効期限(年は数字が大きすぎなければ問題ありません)、セキュリティコードは何でも構いません。)<br>

・<strong>予約サンクス画面</strong> : 無事に予約処理が完了するとこの画面が表示されます。「マイページへ戻る」ボタンをクリックすることでマイページに戻ることが出来ます。<br>

・<strong>マイページ画面</strong> : ホーム画面でお気に入り追加した店舗や、店舗詳細画面で予約した内容が一覧表示されます。お気に入り追加・削除はホーム画面およびこの画面の両方で可能です。また、予約情報の変更はこの画面から行えます。「QRコードを発行する」ボタンで店舗向けのQRコードを生成可能です。「予約変更」ボタンは、予約内容の変更がない限り非アクティブになっており、カーソルを合わせるとクリック不可の理由が表示されます。<br>

・<strong>予約リマインダーメール</strong> : 予約当日の朝にリマインダーメールをmailhog(localhost:8025)に送信出来ます。Kernel.php(src > app > Console)で、朝6時にメールが届くよう設定していますが、dailyAt('06:00')部分を変更すれば配信時間を調整可能です(例: 朝8時に送信する場合は8:00に設定)。メールは自動送信されないため、ターミナルで以下のコマンドを実行してください：<br>
```bash
php artisan schedule:run
```

・<strong>予約リマインダーメールの内容</strong>：予約した店舗名、日時、人数が記載されております。 また、リンクになっている「レビューする」をクリックするとその店舗の口コミ投稿画面が表示されます。<br>

・<strong>口コミ投稿画面</strong>:この画面では、各店舗に対する5段階評価とコメントを記入することが可能です。5段階評価は、星にカーソルを合わせてクリックすることで評価を選択出来ます。画像の投稿も必須となっており、「クリックして画像を追加またはドラッグアンドドロップ」エリアをクリックするか、エリア内に画像を直接ドラッグアンドドロップすることで、画像を挿入することが可能です。なお、1人のユーザーは1つの店舗につき1件のみ口コミを投稿することが出来る仕様となっています。<br>

・<strong>口コミ投稿サンクス画面</strong>：無事に口コミの投稿が完了すると表示されます。「マイページへ戻る」をクリックするとマイページ画面が表示されます。<br>

・<strong>口コミ内容確認・編集・削除画面</strong>：この画面では、各店舗の詳細画面で口コミ投稿画面から評価・コメントした内容が反映されます。(〇件の口コミ) をクリックすると、投稿された日付、ユーザー名、コメント、画像がモーダルウィンドウで表示されます。モーダルウィンドウは、画面上の「×ボタン」だけでなく、画面のどの部分をクリックしても閉じることが可能です。画像をクリックするとブラウザの別タブが開き、拡大表示出来ます。編集ボタンをクリックすると、口コミの編集画面が表示され、投稿内容の修正が可能です。また、削除ボタンをクリックすることで、投稿した口コミを削除することが出来ます。なお、編集・削除ができるのは、口コミを投稿した本人のみです。他のユーザーがログインして口コミを確認した場合は、編集・削除ボタンは表示されません。<br>

・<strong>口コミ編集画面</strong>：「(〇件の口コミ)」をクリックして表示されるモーダルウィンドウ内の「編集」ボタンをクリックすると、口コミ編集画面が表示されます。この画面では、前回投稿した口コミの内容（評価・コメント・画像）を保持した状態で表示され、口コミの修正が可能です。編集後は、「更新する」ボタンをクリックすることで、変更内容が保存されます。<br>

・<strong>管理者画面(店舗代表者の追加)</strong> : ※管理者の方は「こちら」をクリックし、表示されたダイアログのテキスト入力欄にパスコード「admin」を入力することで管理者画面を開くことが出来ます。画面上部の店舗代表者の追加では、追加したい店舗代表者の氏名、メールアドレス、パスワードを入力し、「店舗代表者を追加」ボタンをクリックすることで店舗代表者を追加することが可能です。<br>

・<strong>管理者画面(利用者(ユーザー)へのお知らせメール送信)</strong>：画面下部の利用者へのお知らせメール送信では、件名とメッセージ内容を入力することで登録済みの利用者(ユーザー)全員に一斉メールを送信することが可能です。<br>

・<strong>管理者画面(利用者(ユーザー)の全店舗の口コミ確認・削除とCSVファイルインポート機能)</strong>:利用者(ユーザー)の全店舗の口コミ確認・削除とCSVファイルインポート機能を実装しました。「全店舗の口コミを表示」ボタンをクリックすると、モーダルウィンドウが表示され、全店舗の口コミを確認することができ、口コミの削除も行うことが出来ます。インポートボタンでは、[新店舗追加ファイル](https://github.com/kazuya0290/rese/blob/main/src/public/%E6%96%B0%E5%BA%97%E8%88%97%E8%BF%BD%E5%8A%A0%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB.csv)
(src > public)に入力されたデータをインポートすることで、新しい店舗情報を追加することが可能です。<br>

・<strong>管理者画面(利用者(ユーザー)の全店舗の口コミ確認・削除)</strong>：口コミを投稿した利用者（ユーザー）の名前、投稿日時、店舗名、口コミ内容、投稿された画像を確認することが出来ます。画像はクリックするとブラウザの別タブが開いて拡大表示することが出来、削除ボタンをクリックすることで、投稿された口コミを自由に削除することが出来ます。<br>

・<strong>管理者画面(新店舗追加の為のCSVファイル記入例)</strong>：新店舗追加のために、[新店舗追加ファイル](https://github.com/kazuya0290/rese/blob/main/src/public/%E6%96%B0%E5%BA%97%E8%88%97%E8%BF%BD%E5%8A%A0%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB.csv)
(src > public)に店舗名、地域、ジャンル、店舗概要、画像URLをそれぞれ入力し、csvファイルを選択してインポートボタンをクリックすることで新店舗情報を追加することが出来ます。
vscode内でも記述可能で、画像の通り、半角の「,」で区切って記載することで追加が可能です。<strong>※1行目のカラム名を読み取ってデータ登録を行うため、カラム名を削除したり、変更したりしないでください。店舗名は50文字以内、店舗概要は400文字以内、画像URLは後述のURLまたはURL形式の「jpeg,png」ファイルを1つ選んで入力してください。地域とジャンルはそれぞれ半角数字で入力してください。地域は「1, 2, 3」、ジャンルは「1, 2, 3, 4, 5」のいずれか1つを選んでください。</strong><br>
・地域の割り当て<br>
```bash
 東京: 1
 大阪: 2 
 福岡: 3
```
・ジャンルの割り当て<br>
```bash
寿司: 1 
焼肉: 2 
居酒屋: 3 
イタリアン: 4 
ラーメン: 5
```
・画像URL<br>

1.寿司
```bash
https://coachtech-matter.s3-ap-northeast-1.amazonaws.com/image/sushi.jpg
```
2.焼肉
```bash
https://coachtech-matter.s3-ap-northeast-1.amazonaws.com/image/yakiniku.jpg
```
3.居酒屋
```bash
https://coachtech-matter.s3-ap-northeast-1.amazonaws.com/image/izakaya.jpg
```
4.イタリアン
```bash
https://coachtech-matter.s3-ap-northeast-1.amazonaws.com/image/italian.jpg
```
5.ラーメン
```bash
https://coachtech-matter.s3-ap-northeast-1.amazonaws.com/image/ramen.jpg
```

・<strong>店舗代表者ログイン画面</strong>：利用者(ユーザー)ログイン画面と同様、管理者画面にて追加された代表者の正しいメールアドレスとパスワードを入力することで店舗代表者としてログインすることが可能です。<br>

・<strong>店舗代表者ホーム画面</strong>：画面上部にログインした店舗代表者の氏名とメッセージが表示されます。利用者(ユーザー)ログイン時、非ログイン時と同様、フィルター機能は利用可能ですが、お気に入り追加・削除機能は利用できない仕組みになっております。また、「詳しくみる」ボタンではなく「更新」ボタンに変化し、ここをクリックすることで、店舗情報の更新画面を開くことが出来ます。<br>

・<strong>店舗代表者ホーム画面2</strong>：店舗代表者ホーム画面最下部に店舗を追加というリンクを付けております。ここをクリックすることで、店舗情報の作成画面を開くことが出来ます。<br>

・<strong>メニュー画面3(店舗代表者ログイン時)</strong>：利用者(ユーザー)と同じく、HomeとLogoutの機能は同じですが、Reservation Listをクリックすると利用者(ユーザー)の予約一覧を確認することが出来ます。<br>

・<strong>店舗情報の更新画面</strong>：この画面から新しく作成した店舗を含め、店舗情報の更新(修正)を行うことが可能です。店舗名、エリア、ジャンル、説明、表示したい店舗のイメージ画像のどれかを変更しないと更新ボタンがクリック出来ない仕組みとなっております。<br>

・<strong>店舗情報の作成画面</strong>：更新画面と同じフォームで、全ての項目を入力・設定することで新店舗を追加することがこの画面より可能です。画像を含め、全ての項目を入力・設定する必要があります。<br>

・<strong>利用者(ユーザー)予約一覧画面</strong>:メニュー画面3のReservation Listをクリックするとこちらの画面が開かれます。この画面より利用者(ユーザー)の氏名、メールアドレスを含めた詳細な予約情報を閲覧することが可能です。ページネーションを使用しており、7件ごとのデータを表示するように設定しております。<br>

## 作成した目的
外部予約サービスの手数料を回避するため、自社で予約システムを持ちたいという依頼を受けて開発しました。<br>ユーザー・管理者・店舗代表者のそれぞれに使いやすい設計となっております。<br>

## アプリケーションURL
http://localhost/ (ホーム画面・飲食店一覧ページ)<br>
http://localhost/login (ログインページ)<br>
http://localhost/verify (メール認証ページ)<br>
http://localhost/representative/login (店舗代表者ログインページ)<br>
http://localhost/register (会員登録ページ)<br>
http://localhost/mypage (マイページ)<br>
http://localhost/shop/{id} (各飲食店詳細ページ)<br>
http://localhost/shop/{id}/edit (各飲食店更新ページ)<br>
http://localhost/shop/create (店舗追加ページ)<br>
http://localhost/admin (管理者ページ)<br>
http://localhost/representative (利用者(ユーザー)予約一覧ページ)<br>
http://localhost/register_thanks (会員登録サンクスページ)<br>
http://localhost/review_thanks (口コミ投稿サンクスページ)<br>

## 他のリポジトリ
git@github.com:kazuya0290/rese.git<br>
→ 飲食店予約サービス、その他設定ファイルを含むリポジトリです。<br>

## 機能一覧
1.メニュー選択機能<br>
2.ログイン機能<br>
3.会員登録機能<br>
4.メール認証機能<br>
5.お気に入り登録・削除機能<br>
6.ランダム表示、評価の高い順・低い順の選択によるソート機能<br>
7.エリア・ジャンル選択・キーワード検索によるフィルター機能<br>
8.店舗予約機能<br>
9.店舗画像保存機能<br>
10.マイページからの予約内容変更・キャンセル(削除)機能<br>
11.QRコード発行・照合機能<br>
12.Stripe決済機能<br>
13.予約リマインダーメール送信機能<br>
14.利用者(ユーザー)による口コミ投稿機能<br>
15.利用者(ユーザー)による口コミ編集機能<br>
16.利用者(ユーザー)による口コミ削除機能<br>
17.コメント閲覧機能<br>
18.管理者による店舗代表者追加機能 (店舗の代表者を新たに登録)<br>
19.管理者による登録済利用者(ユーザー)一斉メール送信機能<br>
20.管理者による利用者(ユーザー)の全店舗の口コミ確認・削除機能<br>
21.管理者によるcsvファイルインポート(新店舗追加)機能<br>
22.店舗代表者による利用者(ユーザー)予約内容確認機能<br>
23.店舗代表者による既存店舗更新機能<br>
24.店舗代表者による新規店舗作成機能<br>

## 使用技術(実行環境)
- Laravel Framework 8.83.8<br>
- PHP 7.4.9<br>
- JavaScript<br>
- MySQL (マイグレーションは `php artisan migrate` を使用)<br>
- Mailhog 1.0.1 (開発環境用のメール送受信ツール)<br>
- qrcodejs 1.0.0 (QRコード発行ライブラリ)<br>
- Stripe PHP 9.9 (決済システム)<br>
- leaguecsv 9.8 (CSVファイル操作ライブラリ)<br>

## テーブル図
![areas](https://github.com/user-attachments/assets/d9b3ae8f-c605-4e5e-aee9-420a2c9afac9)

![details](https://github.com/user-attachments/assets/2d3247ee-f87a-465e-9334-d451f7d9b5e8)

![favorites](https://github.com/user-attachments/assets/445f0546-098b-4d0b-bbe7-8316dd4eef5d)

![genres](https://github.com/user-attachments/assets/49ad7721-9717-4060-aefd-e1836e3a1aa2)

![representatives](https://github.com/user-attachments/assets/88a68299-2079-4b2a-b59a-987d9dce62ed)

![reservations](https://github.com/user-attachments/assets/c2f89f76-9078-48b5-afb8-c862d56aced4)

![reviews](https://github.com/user-attachments/assets/aca533e2-ffa6-4242-bba6-f220b19331bd)

![shops](https://github.com/user-attachments/assets/4e719628-0e3b-45b3-89a9-eece4d58a499)

![shops_users](https://github.com/user-attachments/assets/99997495-5143-4d74-b060-6e2ffb7c96b3)

![users](https://github.com/user-attachments/assets/6e818e97-8fc4-4476-8d7b-3b7d49f23ce0)

## ER図
![er](https://github.com/user-attachments/assets/df0a2736-5765-43b2-81c4-15e7f9dda252)

## 環境構築
-<strong> Dockerのビルド</strong>-<br>

1.リポジトリのクローン<br>
```bash 
git clone git@github.com:kazuya0290/rese.git
```
2.Dockerデスクトップを立ち上げ、作成したコンテナを起動する。<br>
3.コンテナの起動と再ビルド<br>
```bash 
docker-compose up -d --build
```

-<strong>Laravel環境構築</strong>-<br>

1.Dockerコンテナに入る<br>
```bash
docker-compose exec php bash
```
2.Composerのインストール<br>
```bash 
composer install
```
3.「.env.example」ファイルを 「.env」ファイルに命名を変更。または、新しく.envファイルを作成<br>
```bash 
cp .env.example .env
```
4..envに以下の環境変数を追加<br>
```
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=laravel_db
DB_USERNAME=laravel_user
DB_PASSWORD=laravel_pass
BROADCAST_DRIVER=log
CACHE_DRIVER=file
FILESYSTEM_DRIVER=local
QUEUE_CONNECTION=sync
SESSION_DRIVER=file
SESSION_LIFETIME=120
MEMCACHED_HOST=127.0.0.1
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=example@example.com
MAIL_FROM_NAME="Example"
STRIPE_KEY=pk_test_51QCaiKINecNlWRFz1faiSxHyYUW6BKkysgHeSitbGAU0VJjH3HGdYFEcAlZxJNkHUiBAhju7eyklW2AGn2mqS2zd00B4Xp1iSg
STRIPE_SECRET=sk_test_51QCaiKINecNlWRFzZ15SXBwdCEs5c1gX1Yo7W0ArQ4g5jDqY3Qji3TFOyOtLcc9g8fJvfRcnwSGtO4IUhfMswSsx00OTvsCtV9
```
5.アプリケーションキーの作成<br>
```bash
php artisan key:generate
```
6.マイグレーションの実行<br>
```bash
php artisan migrate
```
7.シーディングの実行(データ・ダミーデータの挿入)<br>
```bash
php artisan db:seed
```

-<strong>使用するパッケージについて</strong>-<br>

1.QRコード生成<br>
QRコード発行機能に simplesoftwareio/simple-qrcode ライブラリを使用しています。このパッケージにより、Laravel内で簡単にQRコードを生成出来ます。<br>
2.Stripe決済機能<br>
決済機能には stripe/stripe-php を使用しています。このライブラリを利用することで、Stripe APIと簡単に連携し、オンライン決済処理を行うことが出来ます。<br>
3.メール送信(MailHog)<br>
開発環境でのメール送信には MailHog を使用しています。MAIL_MAILER=smtp と MAIL_HOST=mailhog の設定により、送信されたメールは http://localhost:8025 の MailHog ダッシュボードで確認出来ます。MailHogは開発環境でメール送信をテストするためのツールです。<br>
4. CSVファイル操作 (leaguecsv 9.8)<br>
CSVファイルの読み書きには `leaguecsv/league-csv` ライブラリを使用しています。このパッケージを使用することで、CSVファイルの簡単な操作が可能となり、データのインポートやエクスポートをスムーズに行うことが出来ます。特に、大量のデータを効率的に処理できるため、新店舗情報の一括インポートなどの処理に便利です。<br>

## URL
- 開発環境: http://localhost/ <br>
- mailhog : http://localhost:8025/<br>
- phpMyAdmin : http://localhost:8080/<br>
- 本番環境 : https://rese-he2e.onrender.com (従量課金制の為、サービス停止中)<br>

## その他
mailhog(localhost:8025)にて届いたメールを開くとhtmlメッセージが表示されないことがあります。その場合は1度メールを閉じて再度開くと表示されます。(手順：メールをクリック → InBoxをクリック → 再度メールをクリック)<br>
Dockerfile,default.conf,docker-compose.ymlファイルは開発環境と本番環境のコードに分けて記載してあります。<br>通常は開発環境のコードを表示しており、本番環境のコードはコメントアウトしております。<br>Render.comは従量課金制の為、無料で利用するためにサービスを停止しております。<br>